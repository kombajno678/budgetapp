<mat-card class="h-100">
    <mat-card-header>
        <h2>Prediction for today</h2>
    </mat-card-header>

    <ng-container *ngIf="(predictionsLoaded$ | async) as r">

        <div class="text-center">
            <h1>{{ displayValue(r[0]) }}</h1>
        </div>

        <div class="text-center">
            +1 month : <span class="predition-future">{{ displayValue(r[1]) }}</span> <span
                  class="prediction-delta {{r[1].value - r[0].value > 0 ? 'prediction-plus' : 'prediction-minus'}}">{{
                r[1].value - r[0].value > 0 ? '+' : '' }}{{ displayValue(r[1].value - r[0].value) }}</span>
        </div>

        <div class="text-center">
            +3 months : <span class="predition-future">{{ displayValue(r[2]) }}</span> <span
                  class="prediction-delta {{r[2].value - r[0].value > 0 ? 'prediction-plus' : 'prediction-minus'}}">{{
                r[2].value - r[0].value > 0 ? '+' : '' }}{{ displayValue(r[2].value - r[0].value) }}</span>
        </div>



    </ng-container>


    <mat-card-footer>
        Incorrect? Try inserting new fixed point
        <button mat-stroked-button
                color="secondary"
                (click)="addFixedPoint()">
            New
        </button>
        <ng-container *ngIf="latestFixedPoint$ | async as fp">
            (last: {{ fp.when.toISOString().substr(0, 10) }})
        </ng-container>
    </mat-card-footer>





</mat-card>