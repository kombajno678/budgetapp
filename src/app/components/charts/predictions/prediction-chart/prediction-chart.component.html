<ng-container *ngIf="(this.loading$ | async ) as loading; else loaded">

  <app-loading-spinner></app-loading-spinner>




</ng-container>


<ng-template #loaded>
  <div style="display: block;">
    <ng-container *ngIf="displayChart; else templatechart">
      <highcharts-chart *ngIf="isHighcharts"
                        [Highcharts]="Highcharts"
                        [constructorType]="chartConstructor"
                        [options]="chartOptions"
                        [callbackFunction]="chartCallback"
                        [(update)]="updateFlag"
                        [oneToOne]="oneToOneFlag"
                        
                        style="width: 100%; height: 400px; display: block;"
                        class="{{ chartCompactHeight ? 'chart-compact-h' : 'chart-normal-h'}}"
                        >
      </highcharts-chart>
    </ng-container>
  </div>
</ng-template>

<ng-template #templatechart>
  <app-loading-spinner></app-loading-spinner>
</ng-template>