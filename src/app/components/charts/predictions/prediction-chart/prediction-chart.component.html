<ng-container *ngIf="(this.loading$ | async ) as loading; else loaded">

  <app-loading-spinner></app-loading-spinner>




</ng-container>


<ng-template #loaded>
  <div style="display: block;">


    <ng-container *ngIf="displayChart; else templatechart">
      <canvas baseChart
              #mychart
              [width]="width ? width : 400"
              [height]="height ? height : 400"
              [datasets]="lineChartData"
              [labels]="lineChartLabels"
              [options]="lineChartOptions"
              [colors]="lineChartColors"
              [legend]="lineChartLegend"
              [chartType]="lineChartType"
              [plugins]="lineChartPlugins"
              (chartClick)="onChartClick($event)">
      </canvas>
    </ng-container>
    <ng-template #templatechart>
      <div style="width:400px; height:400px">
        <app-loading-spinner></app-loading-spinner>

      </div>
    </ng-template>

  </div>


</ng-template>