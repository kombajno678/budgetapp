<div class="row p-2">
    <div class="col">
        <span class="mat-display-1">
            Operations
        </span>
    </div>
</div>

<div class="row p-2">
    <div class="col">

        <button mat-button
                type="button"
                (click)="onNewClick()">
            Add new
        </button>

        <button mat-button
                type="button"
                (click)="deleteAllOperations()">
            Delete all
        </button>

        <button mat-button
                type="button"
                (click)="generate()">
            Generate from scheduled operations
        </button>



        <!--
        <form [formGroup]="form"
              (submit)="onFormSubmit()">
            <mat-form-field appearance="fill">
                <mat-label>Enter a date range</mat-label>
                <mat-date-range-input [rangePicker]="picker">
                    <input matStartDate
                           formControlName="startDate"
                           placeholder="Start date">
                    <input matEndDate
                           formControlName="endDate"
                           placeholder="End date">
                </mat-date-range-input>
                <mat-datepicker-toggle matSuffix
                                       [for]="picker"></mat-datepicker-toggle>
                <mat-date-range-picker #picker></mat-date-range-picker>
            </mat-form-field>
            <button mat-button>
                Get operations
            </button>
        </form>
        -->



    </div>
</div>


<div class="row no-gutters">
    <div class="col">

        <mat-list>

            <ng-container *ngFor="let d of getDistinctDays()">
                <div mat-subheader>{{ d.toISOString().substr(0, 10)}}</div>
                <ng-container *ngFor="let op of this.getOperationsByDate(d)">
                    <!--
                    <app-operation-list-element [op]="op"
                                                (onDelete)="deleteOperation($event)"
                                                (onModify)="modifyOperation($event)">
                        ...
                    </app-operation-list-element>

-->















                    <mat-list-item>
                        <mat-icon mat-list-icon>
                            {{ op.value >= 0 ? 'add' : 'remove'}}
                        </mat-icon>





                        <div mat-line>
                            <span class="mat-title">{{op.value < 0 ? -op.value : op.value}} </span>
                        </div>
                        <div mat-line
                             class="">
                            <span class="mat-subheading-2"> {{op.name}}</span>
                            <span class="schedule-desc">{{ op.scheduled_operation_id }}</span>
                        </div>


                        <button mat-icon-button
                                type="button"
                                [matMenuTriggerFor]="menu"
                                aria-label="menu">
                            <mat-icon>more_vert</mat-icon>
                        </button>



                        <mat-menu #menu="matMenu">


                            <button mat-menu-item
                                    type="button"
                                    color="warn"
                                    (click)="deleteOperation(op)">
                                <mat-icon>delete</mat-icon>
                                <span>Delete</span>
                            </button>


                            <button mat-menu-item
                                    type="button"
                                    color="accent"
                                    (click)="modifyOperation(op)">
                                <mat-icon>edit</mat-icon>
                                <span>Modify</span>
                            </button>

                        </mat-menu>



                    </mat-list-item>


















                </ng-container>
            </ng-container>


        </mat-list>
    </div>
</div>