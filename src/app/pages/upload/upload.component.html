<div class="m-3">


    <mat-progress-bar [value]="uploadProgress">

    </mat-progress-bar>

    <form [formGroup]="myForm"
          (ngSubmit)="submit()">


        <div class="form-group">
            <label for="file">mBank .csv file:</label>
            <input formControlName="file"
                   id="file"
                   type="file"
                   class="form-control"
                   (change)="onFileChange($event)">
            <div *ngIf="f.file.touched && f.file.invalid">
                <div *ngIf="f.file.errors.required">
                    File is required.
                </div>
            </div>
        </div>

        <button class="btn btn-primary"
                type="submit">Submit</button>
    </form>


    <ng-container *ngIf="(report$ | async) as r">


        <div class="row">
            new scheduled operaions :
            <mat-list dense>
                <ng-container *ngFor="let so of r.ScheduledOperations">
                    <app-scheduled-operation-list-element [so]="so">

                    </app-scheduled-operation-list-element>


                </ng-container>
            </mat-list>

        </div>


        <div class="row">

            new categories :
            <mat-list>
                <mat-list-item *ngFor="let cat of r.Categories">
                    {{ cat.name }}
                </mat-list-item>
            </mat-list>




        </div>


        <div class="row">

            new operations :


            <mat-list dense>
                <ng-container *ngFor="let op of r.Operations">
                    <app-operation-list-element [op]="op">

                    </app-operation-list-element>


                </ng-container>
            </mat-list>





        </div>



    </ng-container>

</div>